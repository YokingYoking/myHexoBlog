---
title:      实际项目中的git协作操作
date:       2020-06-15
categories:
    - 知识整理
tags:
    - git
    - 版本管理
    - 多人协作
excerpt: 记录一下实际参与项目时的经历
---
## 提PR（Pull Request）

虽然在自己写代码过程中用过不少git，但无非是clone最多...最近实习才真正接触到真实项目中的git操作，不熟悉的笔者当然有许多蜜汁操作，都是教训，故记录下来。

在实际项目中作为开发我们都是需要提交拉取请求到项目管理员处进行代码审核与merge的，在不同的平台上步骤基本也大同小异，如下：

1. 拉下来远程分支（如dev）
2. 新建自己的分支(dev-mine0615)，并在这个分支上进行自己的开发工作
3. commit代码
4. push
5. 平台（如github）上提交PR
6. PR通过以后管理员就会拉取你的代码，并merge进远程分支上（dev）

这里要注意一定不能拉下来远程分支之后直接在上面开发并push，这样会直接修改远程分支，无法提pr，笔者就是犯了这个错误。。。

## push错了怎么办

如果像笔者一样犯了这种错误，首先肯定要跟管理员先沟通清楚，看如何解决，如果要令远程分支回到上一版本，一般就是在本地库上执行reset，参数选择hard（之前的开发工作全部消失，如果是soft就会保留，不过呈现还没有commit的状态），回到上一版本，然后强制push到远程分支上，覆盖之前的错误push；如果不需要的话在本地库上执行soft reset，拉出一个新分支再进行commit，push，提pr。

## 补充

- 还有在我们开发时如果远程分支更新了，更新分支现在原来与remote相连的分支pull更新，在将更新后的分支merge into current，也就是你现在正在操作的分支。
